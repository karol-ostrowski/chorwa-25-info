<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chorwa '25 — informacje</title>

  <!-- Icon -->
  <link rel="icon" type="image/png" href="./chorwa-icon.png" />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet" />

  <!-- Leaflet (map) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="" />

  <style>
    :root {
      --orange-light: #f58f2c;
      --orange-dark: #d84537;
      --white: #ffffff;
      --card-white: #ffffff;
      --card-text: #222222;
      --dark: #121212;
      --glass: rgba(255, 255, 255, 0.15);
      --glass-border: rgba(255, 255, 255, 0.2);
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; margin: 0; font-family: 'Montserrat', system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif; color: var(--dark); background: var(--white); }

    .pages { height: 100vh; overflow-y: scroll; -webkit-overflow-scrolling: touch; }
    section { min-height: 100vh; position: relative; overflow: hidden; }

    .hero { display: flex; align-items: center; justify-content: center; position: relative; background-size: cover; background-position: center; color: var(--white); }
    .hero-content { position: relative; z-index: 2; text-align: center; padding: 24px; }
    .event-title { font-size: clamp(28px, 8vw, 48px); font-weight: 700; letter-spacing: 0.4px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
    .hero-sub { font-size: clamp(14px, 3.2vw, 18px); opacity: 0.95; margin-top: 8px; text-shadow: 1px 1px 2px rgba(0,0,0,0.3); }

    .down-arrow { position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%); width: 50px; height: 50px; border-radius: 50%; border: 2px solid var(--glass-border); background: var(--glass); backdrop-filter: blur(10px); cursor: pointer; z-index: 3; transition: all 0.3s ease; animation: bounce 2s infinite; }
    .down-arrow:hover { background: rgba(255, 255, 255, 0.25); transform: translateX(-50%) translateY(-2px); }
    .down-arrow svg { width: 20px; height: 20px; }
    @keyframes bounce { 0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); } 40% { transform: translateX(-50%) translateY(-10px); } 60% { transform: translateX(-50%) translateY(-5px); } }
    .wave { display: block; width: 100%; height: 80px; line-height: 0; }

    /* Bingo (bottom - dark) */
    .bingo-section { display: flex; flex-direction: column; align-items: center; position: relative; padding: 36px 20px; background-color: var(--orange-dark); color: var(--white); }
    .section-inner { width: 100%; max-width: 960px; position: relative; z-index: 2; }
    .section-title { font-size: 20px; font-weight: 700; margin: 6px 0 18px; text-align: center; text-shadow: 1px 1px 2px rgba(0,0,0,0.2); }

    .bingo-board { display: grid; grid-template-columns: repeat(4, 1fr); gap: 6px; justify-items: center; align-items: center; }
    .bingo-cell { width: 100%; max-width: 90px; aspect-ratio: 1 / 1; border-radius: 50%; display: flex; align-items: center; justify-content: center; background: var(--glass); backdrop-filter: blur(10px); border: 2px solid var(--glass-border); box-shadow: 0 8px 25px rgba(0,0,0,0.15); font-weight: 600; font-size: 11px; color: var(--white); padding: 6px; text-align: center; cursor: pointer; }
    .bingo-cell:hover { transform: none; border-color: var(--glass-border); box-shadow: 0 8px 25px rgba(0,0,0,0.15); }
    .bingo-text { margin-top: 12px; font-size: 15px; line-height: 1.5; color: var(--white); text-shadow: 1px 1px 2px rgba(0,0,0,0.2); }

    /* Where (top - light) */
    .where-section { display: flex; flex-direction: column; align-items: center; position: relative; padding: 36px 20px; background-color: var(--orange-light); color: var(--white); }
    .map-wrapper { width: 100%; max-width: 980px; height: 450px; border-radius: 20px; overflow: hidden; border: 3px solid var(--glass-border); box-shadow: 0 20px 40px rgba(0,0,0,0.3); position: relative; z-index: 2; }
    @media (min-width: 700px) { .map-wrapper { height: 420px; } }

    /* NEW: full-bleed square white section with waves top & bottom to hold day info */
    .day-section {
      position: relative;
      /* full-bleed across the viewport */
      width: 100vw;
      margin-left: calc(50% - 50vw);
      margin-right: calc(50% - 50vw);
      max-width: none;
      /* make it perfectly square: side = viewport width */
      height: 40vw;
      background: var(--card-white);
      color: var(--card-text);
      border-radius: 0px;
      padding: 28px 24px;
      box-shadow: 0 14px 40px rgba(16,24,40,0.08);
      overflow: visible;
      z-index: 3;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    /* Waves span the full viewport and are horizontally centered */
    .day-section .wave-top, .day-section .wave-bottom {
      display: block;
      width: 100vw;
      height: 70px;
      line-height: 0;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
    }
    .day-section .wave-top { top: -70px; }
    .day-section .wave-bottom { bottom: -70px; transform: translateX(-50%) rotate(180deg); }

    .day-section-inner { position: relative; z-index: 4; max-width: 760px; text-align: center; }
    .day-section .day-title { display:none; } /* title remains on orange background above */

    /* keep older day-card styles available if needed */
    .day-card-wrapper { display:flex; justify-content:center; margin: 18px 0 12px; }
    .day-card { position: relative; width: 100%; max-width: 760px; background: var(--card-white); color: var(--card-text); border-radius: 16px; padding: 18px; padding-top: 0px; box-shadow: 0 14px 40px rgba(16,24,40,0.18); overflow: hidden; border: 1px solid rgba(0,0,0,0.06); z-index: 3; }

    .day-card .wave-top { position: absolute; left: 0; top: 0px; width: 100%; height: 70px; display: block; z-index: 2; }

    footer { padding: 0px; text-align: center; font-size: 13px; color: #eee; }

    .glass-overlay { position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(255, 255, 255, 0); backdrop-filter: blur(5px); z-index: 1; }
  </style>
</head>
<body>
  <div class="pages" id="pages">

    <!-- HERO / COVER -->
    <section class="hero" id="hero">
      <div class="level-bg"></div>
      
      <div class="hero-content">
        <h1 class="event-title" id="eventTitle">chorwa</h1>
        <p class="hero-sub">19.09.2025 - 28.09.2025</p>
      </div>

      <button class="down-arrow" aria-label="Scroll down" id="downBtn">
        <svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 5v14"></path>
          <path d="M19 12l-7 7-7-7"></path>
        </svg>
      </button>

      <svg class="wave" viewBox="0 0 1440 80" preserveAspectRatio="none" style="position:absolute;left:0;right:0;bottom:-1px;transform:translateY(1px);z-index:2">
        <path d="M0,40 C240,80 360,0 720,40 C1080,80 1200,0 1440,40 L1440 80 L0 80 Z" fill="var(--orange-light)"></path>
      </svg>
    </section>

    <!-- WHERE SECTION (top - orange background) -->
    <section class="where-section" id="whereSection">
      <div class="level-bg"></div>
      <div class="glass-overlay"></div>
      
      <div class="section-inner">
        <!-- Title stays on orange background as requested -->
        <h2 class="section-title">Co dziś robimy?</h2>
        <div style="height: 60px;"></div> <!-- spacer -->
        <!-- NEW: full-width white section with wavy top & bottom -->
        <div class="day-section" id="daySection" role="region" aria-label="Informacje o dniu">
          <!-- top white wave that visually starts this section (pulls up over the orange background) -->
          <svg class="wave-top" viewBox="0 0 1440 80" preserveAspectRatio="none" aria-hidden="true">
            <path d="M0,40 C220,0 420,80 720,40 C1020,0 1220,80 1440,40 L1440 80 L0 80 Z" fill="var(--white)"></path>
          </svg>

          <div class="day-section-inner">
            <div class="card-content">
              <p>
                Wypływamy ASAP. Mamy do przejścia odprawę celną i masę mil morskich do przepłynięcia, więc nie ma co tracić czasu. Wieczorem będzie event, którego miejmy nadzieję nikt nam przedwcześnie już nie skończy;)
              </p>
            </div>
          </div>

          <!-- bottom white wave — creates a white edge before the orange continues below -->
          <svg class="wave-bottom" viewBox="0 0 1440 80" preserveAspectRatio="none" aria-hidden="true">
            <path d="M0,40 C220,0 420,80 720,40 C1020,0 1220,80 1440,40 L1440 80 L0 80 Z" fill="var(--white)"></path>
          </svg>
        </div>

        <div style="height: 80px;"></div> <!-- spacer -->
          <h2 class="section-title">Gdzie płyniemy?</h2>
        <div class="map-wrapper" id="map"></div>
      </div>
      <div style="height: 80px;"></div> <!-- spacer -->

      <svg class="wave" viewBox="0 0 1440 80" preserveAspectRatio="none" style="position:absolute;left:0;right:0;bottom:-1px;transform:translateY(1px);z-index:2">
        <path d="M0,40 C220,0 420,80 720,40 C1020,0 1220,80 1440,40 L1440 80 L0 80 Z" fill="var(--orange-dark)"></path>
      </svg>
    </section>

    <!-- BINGO SECTION (bottom) -->
    <section class="bingo-section" id="bingoSection">
      <div class="level-bg"></div>
      <div class="glass-overlay"></div>
      
      <div class="section-inner">
        <h2 class="section-title">Bingo</h2>
        <div class="bingo-board" id="bingoBoard"></div>
        <p class="bingo-text" id="bingoUnder">
          Każde zadanie należy udokumentować fotograficznie. 
          Po wygraniu bingo zgłosić się do organizatorów.
        </p>
      </div>
    </section>
  </div>

  <!-- Scripts -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
  <script>
    const config = {
      eventTitle: "CHORWA SKŻ PW '25",
      coverImage: "./welcome.jpg",
      bingoItems: [
        "?", "?", "Ręcznie lepione pierogi", "Złamany maszt",
        "?", "Picie rakiji z Chorwatami", "?", "Ciasto pieczone na jachcie",
        "Winnica", "?", "?", "?",
        "?", "Piracka bandera", "?", "Trzyosobowa tratwa z odbijaczy"
      ],
      mapPin: { lat: 42.4518025, lng: 18.5351898, label: "Herceg Novi" }
    };

    // Hero content
    document.getElementById("eventTitle").textContent = config.eventTitle;
    document.getElementById("hero").style.backgroundImage = `url('${config.coverImage}')`;

    // Render bingo
    const bingoBoardEl = document.getElementById("bingoBoard");
    function renderBingo() {
      bingoBoardEl.innerHTML = "";
      const items = config.bingoItems.slice(0, 16);
      for (let i = 0; i < 16; i++) {
        const cell = document.createElement("div");
        cell.className = "bingo-cell";
        cell.textContent = items[i] || "?";
        bingoBoardEl.appendChild(cell);
      }
    }
    renderBingo();

    // Down arrow scroll
    document.getElementById("downBtn").addEventListener("click", () => {
      document.getElementById("pages").scrollTo({
        top: window.innerHeight,
        behavior: "smooth"
      });
    });

    // Map init
    const map = L.map("map").setView([config.mapPin.lat, config.mapPin.lng], 12);
    L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
      attribution: "&copy; OpenStreetMap contributors"
    }).addTo(map);

    L.marker([config.mapPin.lat, config.mapPin.lng]).addTo(map);

    // small timeout to fix leaflet sizing inside hidden/scroll container
    setTimeout(() => map.invalidateSize(), 300);
  </script>
</body>
</html>
